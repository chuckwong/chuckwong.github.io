<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>437. Path Sum III | Forkercat | BLOG</title><meta name="author" content="Junhao Wang"><meta name="copyright" content="Junhao Wang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Reference: LeetCodeDifficulty: Easy Problem You are given a binary tree in which each node contains an integer value. Find the number of paths that sum to a given value.   The path does not need to">
<meta property="og:type" content="website">
<meta property="og:title" content="437. Path Sum III">
<meta property="og:url" content="http://www.junhaow.com/lc/problems/tree/sum-and-path/437_path-sum-iii.html">
<meta property="og:site_name" content="Forkercat | BLOG">
<meta property="og:description" content="Reference: LeetCodeDifficulty: Easy Problem You are given a binary tree in which each node contains an integer value. Find the number of paths that sum to a given value.   The path does not need to">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://www.junhaow.com/resources/NoCover.jpg">
<meta property="article:published_time" content="2020-04-17T20:45:12.480Z">
<meta property="article:modified_time" content="2019-07-05T01:03:47.000Z">
<meta property="article:author" content="Junhao Wang">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://www.junhaow.com/resources/NoCover.jpg"><link rel="shortcut icon" href="/resources/favicon/favicon.ico"><link rel="canonical" href="http://www.junhaow.com/lc/problems/tree/sum-and-path/437_path-sum-iii"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-146643833-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-146643833-1');
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":500},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: false,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '07/04/2019 18:03'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/resources/avatar/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">50</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">114</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">10</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/studynotes/"><i class="fa-fw fas fa-pencil-alt"></i><span> Study Notes</span></a></div><div class="menus_item"><a class="site-page" href="/lc/"><i class="fa-fw fas fa-list"></i><span> LeetCode Book</span></a></div><div class="menus_item"><a class="site-page" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> Games I've Played</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-link"></i><span> Links</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://zhenf.dev"><i class="fa-fw fas fa-user"></i><span> Zhenf.dev</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.jianshu.com/u/41865efdad5d"><i class="fa-fw fas fa-user"></i><span> Xiaofu</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.davex.pw"><i class="fa-fw fas fa-user"></i><span> DaveX</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-grin-squint"></i><span> About Me</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-home-page" id="page-header" style="background-image: url('/resources/banner/banner_1.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Forkercat | BLOG</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/studynotes/"><i class="fa-fw fas fa-pencil-alt"></i><span> Study Notes</span></a></div><div class="menus_item"><a class="site-page" href="/lc/"><i class="fa-fw fas fa-list"></i><span> LeetCode Book</span></a></div><div class="menus_item"><a class="site-page" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> Games I've Played</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-link"></i><span> Links</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://zhenf.dev"><i class="fa-fw fas fa-user"></i><span> Zhenf.dev</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.jianshu.com/u/41865efdad5d"><i class="fa-fw fas fa-user"></i><span> Xiaofu</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.davex.pw"><i class="fa-fw fas fa-user"></i><span> DaveX</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-grin-squint"></i><span> About Me</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="page-site-info"><h1 id="site-title">437. Path Sum III</h1></div></header><main class="layout" id="content-inner"><div id="page"><div id="article-container"><br>

<p>Reference: <a target="_blank" rel="noopener" href="https://leetcode.com/problems/path-sum-iii/">LeetCode</a><br>Difficulty: <span class="green">Easy</span></p>
<h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><blockquote>
<p>You are given a binary tree in which each node contains an integer value. Find the number of paths that sum to a given value.</p>
</blockquote>
<blockquote>
<p>The path does not need to start or end at the root or a leaf, but it must go downwards (traveling only from parent nodes to child nodes).</p>
</blockquote>
<blockquote>
<p>The tree has no more than 1,000 nodes and the values are in the range -1,000,000 to 1,000,000.</p>
</blockquote>
<p><strong>Example:</strong> </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">root = [<span class="number">10</span>,<span class="number">5</span>,-<span class="number">3</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="keyword">null</span>,<span class="number">11</span>,<span class="number">3</span>,-<span class="number">2</span>,<span class="keyword">null</span>,<span class="number">1</span>], sum = <span class="number">8</span></span><br><span class="line"></span><br><span class="line">      <span class="number">10</span></span><br><span class="line">     /  \</span><br><span class="line">    <span class="number">5</span>   -<span class="number">3</span></span><br><span class="line">   / \    \</span><br><span class="line">  <span class="number">3</span>   <span class="number">2</span>   <span class="number">11</span></span><br><span class="line"> / \   \</span><br><span class="line"><span class="number">3</span>  -<span class="number">2</span>   <span class="number">1</span></span><br><span class="line"></span><br><span class="line">Return <span class="number">3.</span> The paths that sum to <span class="number">8</span> are:</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>  <span class="number">5</span> -&gt; <span class="number">3</span></span><br><span class="line"><span class="number">2.</span>  <span class="number">5</span> -&gt; <span class="number">2</span> -&gt; <span class="number">1</span></span><br><span class="line"><span class="number">3.</span> -<span class="number">3</span> -&gt; <span class="number">11</span></span><br></pre></td></tr></table></figure>

<p><strong>Follow up:</strong> </p>
<ul>
<li>Reduce the time complexity.</li>
</ul>
<h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><blockquote>
<p>By <a target="_blank" rel="noopener" href="https://leetcode.com/problems/path-sum-iii/discuss/91889/Simple-Java-DFS">fudonglai</a>:<br>写递归的技巧是：明白一个函数的作用并相信它能完成这个任务，千万不要跳进这个函数里面企图探究更多细节，否则就会陷入无穷的细节无法自拔。你就算浑身是铁，能压几个栈？<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzU0MDg5OTYyOQ==&mid=100000105&idx=1&sn=83337f6a4486d4433378491a2ae395dc&chksm=7b33612b4c44e83d7afe591454829ff3e26253bdebd8304e5eb87d4083668cb0712a2c0b8096#rd">more</a></p>
<p>按照前面说的技巧，先来定义清楚每个递归函数应该做的事：</p>
<p>pathSum 函数：给他一个节点和一个目标值，他返回以这个节点为根的树中，和为目标值的路径总数。<br>count 函数：给他一个节点和一个目标值，他返回以这个节点为根的树中，能凑出几个以该节点为路径开头，和为目标值的路径总数。</p>
</blockquote>
<p><strong>Methods:</strong></p>
<ol>
<li>Typical Recursion<ul>
<li>First, we should define each recursive function’s job.</li>
<li><code>pathSum(x, target)</code>: Return the number of paths that satisfy <code>target</code> requirement in a tree whose root is <code>x</code>.</li>
<li><code>count(x, target)</code>: Return the number of paths that satisfy <code>target</code> requirement in a tree whose root <strong>must be</strong> <code>x</code>, the head of those paths.</li>
<li><strong>Time:</strong> <code>11 ms</code><ul>
<li>In each level in tree, as you go down, $N$ is halved, and finally you call <code>count(x, target)</code> for the leaves whose cost is $T(1)$ (not all the same $N$). Each layer does $O(N)$, and in the best case there are $\log{N}$ layers.</li>
<li>According to the master theorem, <ul>
<li><code>pathSum()</code>: $T(N) = 2T(N/2) + O(N) = O(N\log{N})$</li>
<li><code>count()</code>: $T(N) = 2T(N/2) + O(1)$</li>
</ul>
</li>
<li>Best: $O(N\log{N})$</li>
<li>Worst: $O(N^2)$</li>
</ul>
</li>
<li><strong>Space:</strong> $O(h)$</li>
</ul>
</li>
<li>HashMap + Prefix Sum (<a target="_blank" rel="noopener" href="https://leetcode.com/problems/path-sum-iii/discuss/91878/">tankztc &amp; kekezi</a>)<ul>
<li><strong>Time:</strong> $O(N)$ <code>4 ms</code></li>
<li><strong>Space:</strong> $O(N)$</li>
<li>The idea is similar as Two Sum, using <code>HashMap</code> to store keys (the prefix sum) and values (how many ways to get to this prefix sum). </li>
<li>The <code>prefix sum</code> stores the sum from the root to the current node in the recursion.</li>
<li>Whenever we reach a node, we check if <code>prefix sum - target</code> exists in the HashMap. <ul>
<li>If it does, we added up the ways of <code>prefix sum - target</code> into result.</li>
<li>For example:<ul>
<li>In one path we have: <code>[1, 2, -1, -1, 2]</code>,</li>
<li>then the prefix sum will be: <code>[1, 3,  2,  1, 3]</code>.</li>
<li>Let’s say we want to find target sum $2$, then we have $4$ paths which are <code>2</code>, <code>1,2,-1</code>, <code>2,-1,-1,2</code>, and <code>2</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<ul>
<li>The sum from any node in the middle of the path to the current node<ul>
<li>$=$ (the sum from the root to the current node) $-$ (the prefix sum of the node in the middle)</li>
</ul>
</li>
<li>We want the difference above equal to the target value. In addition, we need to know how many differences are equal to the target value.</li>
<li>Use <code>HashMap</code>. The <code>value</code> of map stores the frequency of all possible sum in the path to the current node. If the difference we want exists, there must exist a node in the middle of the path, such that from this node to the current node, the sum is equal to the target value.</li>
<li>There might be multiple nodes in the middle that satisfy the requirement. In each recursion, the map stores all information we need to calculate the number of ranges that sum up to target (start from a middle node and end by the current node).</li>
<li>To get the total number of a path count, we add up the number of valid paths ended by <code>each</code> node in the tree.</li>
<li>Each recursion returns the total count of valid paths in the subtree rooted at the current node. And this sum can be divided into three parts:<ul>
<li>The total number of valid paths in the subtree rooted at the current node’s left child.</li>
<li>The total number of valid paths in the subtree rooted at the current node’s right child.</li>
<li>The number of valid paths ended by the current node.</li>
</ul>
</li>
<li>The interesting part of this solution is that the prefix is counted from root to leaves, and the result of total count is calculated from the bottom to the top.</li>
</ul>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><h3 id="Typical-Recursion"><a href="#Typical-Recursion" class="headerlink" title="Typical Recursion"></a>Typical Recursion</h3><h4 id="Incorrect-Version"><a href="#Incorrect-Version" class="headerlink" title="Incorrect Version"></a>Incorrect Version</h4><p>First, let’s examine <strong>an incorrect version</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pathSum</span><span class="params">(TreeNode root, <span class="keyword">int</span> sum)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> pathSum(root, sum, sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">pathSum</span><span class="params">(TreeNode root, <span class="keyword">int</span> sum, <span class="keyword">int</span> oldSum)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// root</span></span><br><span class="line">  <span class="keyword">int</span> r0 = root.val == sum ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">  <span class="comment">// left</span></span><br><span class="line">  <span class="keyword">int</span> r1 = pathSum(root.left, sum - root.val, oldSum);</span><br><span class="line">  <span class="keyword">int</span> r2 = pathSum(root.left, oldSum, oldSum); <span class="comment">// start from left</span></span><br><span class="line">  <span class="comment">// right</span></span><br><span class="line">  <span class="keyword">int</span> r3 = pathSum(root.right, sum - root.val, oldSum);</span><br><span class="line">  <span class="keyword">int</span> r4 = pathSum(root.right, oldSum, oldSum);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> r0 + r1 + r2 + r3 + r4;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input = [<span class="number">1</span>,<span class="keyword">null</span>,<span class="number">2</span>,<span class="keyword">null</span>,<span class="number">3</span>]</span><br><span class="line">Output = <span class="number">2</span> (the code outputs <span class="number">3</span>)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"> \</span><br><span class="line">  <span class="number">2</span></span><br><span class="line">   \</span><br><span class="line">    <span class="number">3</span></span><br></pre></td></tr></table></figure>

<p>Call Stack:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">p(<span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line">   r0=<span class="number">0</span>, r1=<span class="number">0</span>, r2=<span class="number">0</span></span><br><span class="line">   r3 = p(<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>) <span class="comment">// continue with node 1</span></span><br><span class="line">           r0=<span class="number">1</span>, r1=<span class="number">0</span>, r2=<span class="number">0</span></span><br><span class="line">           r3 = p(<span class="number">3</span>, <span class="number">0</span>, <span class="number">3</span>)</span><br><span class="line">                   r0=<span class="number">0</span>, r1=<span class="number">0</span>, r2=<span class="number">0</span>, r3=<span class="number">0</span></span><br><span class="line">                   = <span class="number">0</span></span><br><span class="line">           r4 = p(<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>) <span class="comment">// here</span></span><br><span class="line">                   r0=<span class="number">1</span>, r1=<span class="number">0</span>, r2=<span class="number">0</span>, r3=<span class="number">0</span></span><br><span class="line">                   = <span class="number">1</span></span><br><span class="line">           = r0 + r4 = <span class="number">2</span></span><br><span class="line">   r4 = p(<span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>) <span class="comment">// start over at node 2</span></span><br><span class="line">           r0=<span class="number">0</span>, r1=<span class="number">0</span>, r2=<span class="number">0</span></span><br><span class="line">           r3 = p(<span class="number">3</span>, <span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line">                   r0=<span class="number">0</span>,r1=<span class="number">0</span>,r2=<span class="number">0</span>,r3=<span class="number">0</span></span><br><span class="line">                   = <span class="number">0</span></span><br><span class="line">           r4 = p(<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>) <span class="comment">// here</span></span><br><span class="line">                   r0=<span class="number">1</span>, r1=<span class="number">0</span>, r2=<span class="number">0</span>, r3=<span class="number">0</span></span><br><span class="line">                   = <span class="number">1</span></span><br><span class="line">           = r4 = <span class="number">1</span></span><br><span class="line">   r3 + r4 = <span class="number">3</span></span><br><span class="line">= <span class="number">3</span></span><br></pre></td></tr></table></figure>

<p>We can see that there are repeated calculations.</p>
<ul>
<li><code>p(3, 3, 3)</code> called by <code>p(2, 2, 3)</code> called by <code>p(1, 3, 3)</code>.</li>
<li><code>p(3, 3, 3)</code> called by <code>p(2, 3, 3)</code> called by <code>p(1, 3, 3)</code>.</li>
</ul>
<h4 id="Correct-Version"><a href="#Correct-Version" class="headerlink" title="Correct Version"></a>Correct Version</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pathSum(): How many paths in a tree whose head is root satisfy?</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pathSum</span><span class="params">(TreeNode root, <span class="keyword">int</span> sum)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">int</span> rootNum = count(root, sum);  <span class="comment">// root as a leading head of any paths</span></span><br><span class="line">  <span class="keyword">int</span> leftNum = pathSum(root.left, sum); <span class="comment">// don&#x27;t need to know the details</span></span><br><span class="line">  <span class="keyword">int</span> rightNum = pathSum(root.right, sum);</span><br><span class="line">  <span class="keyword">return</span> rootNum + leftNum + rightNum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// count(): How many paths whose head is root satisfy?</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">count</span><span class="params">(TreeNode root, <span class="keyword">int</span> sum)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">int</span> rootNum = (root.val == sum) ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">int</span> leftNum = count(root.left, sum - root.val);</span><br><span class="line">  <span class="keyword">int</span> rightNum = count(root.right, sum - root.val);</span><br><span class="line">  <span class="keyword">return</span> rootNum + leftNum + rightNum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>








<h3 id="HashMap-Prefix-Sum"><a href="#HashMap-Prefix-Sum" class="headerlink" title="HashMap + Prefix Sum"></a>HashMap + Prefix Sum</h3><p><strong>Note:</strong></p>
<ul>
<li>I am dead.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pathSum</span><span class="params">(TreeNode root, <span class="keyword">int</span> sum)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">  map.put(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> findPathSum(root, <span class="number">0</span>, sum, map);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">findPathSum</span><span class="params">(TreeNode curr, <span class="keyword">int</span> sum, <span class="keyword">int</span> target, Map&lt;Integer, Integer&gt; map)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (curr == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// update the prefix sum by adding the current value</span></span><br><span class="line">  sum += curr.val;</span><br><span class="line">  <span class="comment">// get the number of valid paths, ended by the current node</span></span><br><span class="line">  <span class="keyword">int</span> numPathToCurr = map.getOrDefault(sum - target, <span class="number">0</span>);</span><br><span class="line">  <span class="comment">// update the map with the current sum, so the map is good to be passed to the next recursion</span></span><br><span class="line">  map.put(sum, map.getOrDefault(sum, <span class="number">0</span>) + <span class="number">1</span>); <span class="comment">// prefix sum</span></span><br><span class="line">  <span class="comment">// add the 3 parts</span></span><br><span class="line">  <span class="keyword">int</span> res = numPathToCurr + findPathSum(curr.left, sum, target, map) + findPathSum(curr.right, sum, target, map);</span><br><span class="line">  <span class="comment">// restore the map, as the recursion goes from the bottom to the top</span></span><br><span class="line">  map.put(sum, map.get(sum) - <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://bloggg-1254259681.cos.na-siliconvalley.myqcloud.com/trddy.jpg"></p>
</div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/resources/avatar/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Junhao Wang</div><div class="author-info__description">Hi, I am a master student at USC studying Computer Science.</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">50</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">114</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">10</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/junhaowww"><i class="fab fa-github"></i><span>GitHub (Forkercat)</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://twitter.com/junhaowww" target="_blank" title="Twitter"><i class="fab fa-twitter"></i></a><a class="social-icon" href="https://www.linkedin.com/in/junhaowww" target="_blank" title="LinkedIn"><i class="fab fa-linkedin"></i></a><a class="social-icon" href="https://github.com/junhaowww" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://www.douban.com/people/maodai" target="_blank" title="豆瓣（Book）"><i class="fa fa-book"></i></a><a class="social-icon" href="mailto:junhaowanggg@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-bolt"></i><span>Newest Comments</span></div><div class="aside-list"><span>loading...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Anything/"><span class="card-category-list-name">Anything</span><span class="card-category-list-count">10</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/C/"><span class="card-category-list-name">C</span><span class="card-category-list-count">18</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/"><span class="card-category-list-name">Java</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Math/"><span class="card-category-list-name">Math</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Music/"><span class="card-category-list-name">Music</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/OS/"><span class="card-category-list-name">OS</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Python/"><span class="card-category-list-name">Python</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Reading-Notes/"><span class="card-category-list-name">Reading Notes</span><span class="card-category-list-count">5</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/iOS/" style="font-size: 1.45em; color: rgb(137, 185, 9)">iOS</a><a href="/tags/Xcode/" style="font-size: 1.15em; color: rgb(198, 118, 185)">Xcode</a><a href="/tags/%E6%8F%92%E4%BB%B6/" style="font-size: 1.15em; color: rgb(173, 106, 39)">插件</a><a href="/tags/UIScrollView/" style="font-size: 1.15em; color: rgb(9, 200, 130)">UIScrollView</a><a href="/tags/UITableView/" style="font-size: 1.15em; color: rgb(62, 101, 132)">UITableView</a><a href="/tags/AutoLayout/" style="font-size: 1.15em; color: rgb(153, 36, 117)">AutoLayout</a><a href="/tags/%E7%9E%8E%E6%89%AF/" style="font-size: 1.15em; color: rgb(137, 11, 173)">瞎扯</a><a href="/tags/Mac/" style="font-size: 1.3em; color: rgb(142, 52, 25)">Mac</a><a href="/tags/TypeFu/" style="font-size: 1.15em; color: rgb(33, 102, 21)">TypeFu</a><a href="/tags/%E7%BB%83%E6%89%93%E5%AD%97/" style="font-size: 1.15em; color: rgb(24, 29, 87)">练打字</a><a href="/tags/Hexo/" style="font-size: 1.15em; color: rgb(184, 172, 12)">Hexo</a><a href="/tags/%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87/" style="font-size: 1.15em; color: rgb(65, 78, 166)">本地图片</a><a href="/tags/Unity/" style="font-size: 1.3em; color: rgb(44, 94, 123)">Unity</a><a href="/tags/%E6%B8%B8%E6%88%8F/" style="font-size: 1.15em; color: rgb(92, 111, 64)">游戏</a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 1.15em; color: rgb(106, 138, 105)">数据结构</a><a href="/tags/LinkedList/" style="font-size: 1.15em; color: rgb(39, 133, 186)">LinkedList</a><a href="/tags/C/" style="font-size: 1.3em; color: rgb(186, 84, 63)">C</a><a href="/tags/%E6%B1%95%E5%A4%A7%E8%AF%BE%E7%A8%8B%E8%A1%A8/" style="font-size: 1.15em; color: rgb(193, 196, 127)">汕大课程表</a><a href="/tags/%E9%9F%B3%E4%B9%90/" style="font-size: 1.15em; color: rgb(73, 12, 34)">音乐</a><a href="/tags/%E7%AE%A1%E4%B9%90%E5%9B%A2/" style="font-size: 1.15em; color: rgb(47, 44, 78)">管乐团</a><a href="/tags/Markdown/" style="font-size: 1.15em; color: rgb(84, 34, 113)">Markdown</a><a href="/tags/Mou/" style="font-size: 1.15em; color: rgb(39, 159, 87)">Mou</a><a href="/tags/%E4%BA%BA%E5%B7%A5%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/" style="font-size: 1.15em; color: rgb(181, 106, 26)">人工神经网络</a><a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 1.15em; color: rgb(175, 180, 32)">多线程</a><a href="/tags/GCD/" style="font-size: 1.15em; color: rgb(136, 130, 50)">GCD</a><a href="/tags/GRE/" style="font-size: 1.15em; color: rgb(190, 147, 38)">GRE</a><a href="/tags/%E8%8B%B1%E8%AF%AD/" style="font-size: 1.15em; color: rgb(100, 189, 5)">英语</a><a href="/tags/%E9%80%BB%E8%BE%91/" style="font-size: 1.15em; color: rgb(145, 57, 50)">逻辑</a><a href="/tags/Argument/" style="font-size: 1.15em; color: rgb(104, 184, 88)">Argument</a><a href="/tags/Logic/" style="font-size: 1.15em; color: rgb(53, 82, 26)">Logic</a><a href="/tags/%E5%BE%AE%E7%A7%AF%E5%88%86/" style="font-size: 1.15em; color: rgb(188, 123, 105)">微积分</a><a href="/tags/Calculus/" style="font-size: 1.15em; color: rgb(133, 34, 60)">Calculus</a><a href="/tags/Python/" style="font-size: 1.15em; color: rgb(196, 83, 154)">Python</a><a href="/tags/%E6%A6%82%E7%8E%87/" style="font-size: 1.15em; color: rgb(153, 56, 55)">概率</a><a href="/tags/Probability/" style="font-size: 1.15em; color: rgb(162, 151, 21)">Probability</a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%A4%A7%E5%B0%8F/" style="font-size: 1.15em; color: rgb(9, 126, 120)">数据类型大小</a><a href="/tags/size-t/" style="font-size: 1.15em; color: rgb(100, 88, 118)">size_t</a><a href="/tags/%E8%A1%A5%E7%A0%81/" style="font-size: 1.15em; color: rgb(61, 57, 132)">补码</a><a href="/tags/unsigned/" style="font-size: 1.15em; color: rgb(1, 148, 93)">unsigned</a><a href="/tags/signed/" style="font-size: 1.15em; color: rgb(130, 140, 123)">signed</a></div></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">50</div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">82.3k</div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-06-04T02:15:05.348Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2015 - 2021 By Junhao Wang</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">return 0;</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    loader: {
      source: {
        '[tex]/amsCd': '[tex]/amscd'
      }
    },
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        addClass: [200,() => {
          document.querySelectorAll('mjx-container:not([display=\'true\']').forEach( node => {
            const target = node.parentNode
            if (!target.classList.contains('has-jax')) {
              target.classList.add('mathjax-overflow')
            }
          })
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'http://www.junhaow.com/lc/problems/tree/sum-and-path/437_path-sum-iii.html'
    this.page.identifier = 'lc/problems/tree/sum-and-path/437_path-sum-iii.html'
    this.page.title = '437. Path Sum III'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://junhaow.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }
}

if ('Disqus' === 'Disqus' || !false) {
  if (false) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[image]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[link]') // replace url
    content = content.replace(/<code>.*?<\/code>/gi, '[code]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    fetch('https://disqus.com/api/3.0/forums/listPosts.json?forum=junhaow&related=thread&limit=6&api_key=9AouxDFpQCAlmHWv0HK3jV1Pp4Yq4T7kGncBGbAzFOXAeZTSKkt9YWshqSYb68Rq')
      .then(response => response.json())
      .then(data => {
        const disqusArray = data.response.map(item => {
          return {
            'avatar': item.author.avatar.cache,
            'content': changeContent(item.message),
            'nick': item.author.name,
            'url': item.url,
            'date': item.createdAt
          }
        })

        saveToLocal.set('disqus-newest-comments', JSON.stringify(disqusArray), 10/(60*24))
        generateHtml(disqusArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "Unable to get the data, please make sure the settings are correct."
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick}</span><time> / ${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += 'No Comment'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('disqus-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>