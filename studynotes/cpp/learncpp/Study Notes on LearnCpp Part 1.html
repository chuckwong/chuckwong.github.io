<!DOCTYPE html>




<html class="theme-next pisces" lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-bounce.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Ubuntu:300,300italic,400,400italic,700,700italic|Bitter:300,300italic,400,400italic,700,700italic|Bitter:300,300italic,400,400italic,700,700italic|Menlo:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="junhaow, maodai">










<meta name="description" content="Source: LearnCpp.com by Alex">
<meta property="og:type" content="website">
<meta property="og:title" content="Study Notes on LearnCpp (Part 1 - Basic)">
<meta property="og:url" content="http://www.junhaow.com/studynotes/cpp/learncpp/Study Notes on LearnCpp Part 1.html">
<meta property="og:site_name" content="B_L_OO_GGG">
<meta property="og:description" content="Source: LearnCpp.com by Alex">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://bloggg-1254259681.cos.na-siliconvalley.myqcloud.com/zeh8d.jpg">
<meta property="og:image" content="https://bloggg-1254259681.cos.na-siliconvalley.myqcloud.com/oa9vs.jpg">
<meta property="og:image" content="https://bloggg-1254259681.cos.na-siliconvalley.myqcloud.com/5u9z5.jpg">
<meta property="og:image" content="https://bloggg-1254259681.cos.na-siliconvalley.myqcloud.com/0vzwh.jpg">
<meta property="og:updated_time" content="2020-01-29T09:34:01.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Study Notes on LearnCpp (Part 1 - Basic)">
<meta name="twitter:description" content="Source: LearnCpp.com by Alex">
<meta name="twitter:image" content="https://bloggg-1254259681.cos.na-siliconvalley.myqcloud.com/zeh8d.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.junhaow.com/studynotes/cpp/learncpp/Study Notes on LearnCpp Part 1.html">





  <title>Study Notes on LearnCpp (Part 1 - Basic) | B_L_OO_GGG</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-146643833-1', 'auto');
  ga('send', 'pageview');
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->





</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="en">


  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">B_L_OO_GGG</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Sumomo mo momo mo no uchi</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home


            

            

            

            

            

          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-inbox"></i> <br>
            
            Archives


            

            
              <span class="badge">50</span>
            

            

            

            

          </a>
        </li>
      
        
        <li class="menu-item menu-item-studynotes">
          <a href="/studynotes/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-pencil"></i> <br>
            
            Study Notes


            

            

            
              <span class="badge">6</span>
            

            

            

          </a>
        </li>
      
        
        <li class="menu-item menu-item-lc">
          <a href="/lc/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            LeetCode Book


            

            

            

            
              <span class="badge badge-lc">251 / ‚àû</span>
            

            

          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-address-card"></i> <br>
            
            About Me


            

            

            

            

            
              <span class="badge-about">üëã</span>
            

          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    
    
    
    <div class="post-block page">
      <header class="post-header">

	<h1 class="post-title" itemprop="name headline">Study Notes on LearnCpp (Part 1 - Basic)</h1>



</header>

      
      
      
      <div class="post-body">
        
        
          <p><br></p>
<p>Source: <a href="https://www.learncpp.com/" target="_blank" rel="noopener">LearnCpp.com</a> by Alex</p>
<a id="more"></a>
<h2 id="Introduction-to-programming-languages"><a href="#Introduction-to-programming-languages" class="headerlink" title="Introduction to programming languages"></a>Introduction to programming languages</h2><p>Optional Reading: <a href="https://stackoverflow.com/questions/38491212/difference-between-compiled-and-interpreted-languages/38491646#38491646" target="_blank" rel="noopener">Difference between compiled and interpreted languages?</a></p>
<p>Interpreters and compilers have complementary strengths and weaknesses, it‚Äôs becoming increasingly common for language runtimes to combine elements of both. Java‚Äôs JVM is a good example of this. The Java itself is compiled to byte code, and then directly to machine code.</p>
<p>Also, another key point from this article is that languages are not compiled or interpreted. <strong>They are not a nature of the languages.</strong> C code is compiled, but there are C interpreters available that make it easier to debug or visualize the code.</p>
<h2 id="Introduction-to-C"><a href="#Introduction-to-C" class="headerlink" title="Introduction to C++"></a>Introduction to C++</h2><h3 id="History-of-C"><a href="#History-of-C" class="headerlink" title="History of C++"></a>History of C++</h3><ul>
<li>1979: Bjarne Stroustrup at Bell Labs started developing C++</li>
<li>1998: Ratified by the ISO committee in 1998</li>
<li>2003: C++03</li>
<li>2011: C++11 (a huge number of new capabilities)</li>
<li>2014: C++14</li>
<li>2017: C++17</li>
</ul>
<h3 id="C-and-C-‚Äôs-philosophy"><a href="#C-and-C-‚Äôs-philosophy" class="headerlink" title="C and C++‚Äôs philosophy"></a>C and C++‚Äôs philosophy</h3><p>The underlying design philosophy of C and C++ can be summed up as <code>&quot;trust the programmer&quot;</code>, which is both wonderful and dangerous. Although we have the freedom, it‚Äôs important to know the things you should not do with C++.</p>
<h3 id="History-of-‚Äúbug‚Äù"><a href="#History-of-‚Äúbug‚Äù" class="headerlink" title="History of ‚Äúbug‚Äù"></a>History of ‚Äúbug‚Äù</h3><p>The term bug was first used by <code>Thomas Edison</code> back in the 1870s! However, the term was popularized in the 1940s when engineers found an actual moth stuck in the hardware of an early computer, causing a short circuit. Both the log book in which the error was reported and the moth are now part of the Smithsonian Museum of American History.</p>
<h3 id="Compilers-linkers-and-the-libraries"><a href="#Compilers-linkers-and-the-libraries" class="headerlink" title="Compilers, linkers, and the libraries"></a>Compilers, linkers, and the libraries</h3><p><img src="https://bloggg-1254259681.cos.na-siliconvalley.myqcloud.com/zeh8d.jpg" alt=""></p>
<p>For complex projects, some development environments use a <code>makefile</code>, which is a file that describes how to build a program.</p>
<h2 id="C-Basics"><a href="#C-Basics" class="headerlink" title="C++ Basics"></a>C++ Basics</h2><p>This section covers too many C stuff. I just write down something important to notice and recall!</p>
<h3 id="std-endl-vs-‚Äò-n‚Äô"><a href="#std-endl-vs-‚Äò-n‚Äô" class="headerlink" title="std::endl vs ‚Äò\n‚Äô"></a>std::endl vs ‚Äò\n‚Äô</h3><p>Using std::endl can be a bit <code>inefficient</code>, as it actually does two jobs: it moves the cursor to the next line, and it ‚Äúflushes‚Äù the output (makes sure that it shows up on the screen immediately; output the buffer). </p>
<p>When writing text to the console using std::cout, std::cout usually flushes output anyway (and if it doesn‚Äôt, it usually doesn‚Äôt matter), so having std::endl flush is rarely important.</p>
<p>The ‚Äò\n‚Äô character doesn‚Äôt do the redundant flush, so it performs better.</p>
<ul>
<li><code>&lt;&lt;</code> - insertion operator</li>
<li><code>&gt;&gt;</code> - extraction operator. The input must be stored in a variable to be used.</li>
</ul>
<h3 id="Expressions"><a href="#Expressions" class="headerlink" title="Expressions"></a>Expressions</h3><p>Initialization can be used to give a variable a value at the point of creation. C++ supports 3 types of initialization: </p>
<ul>
<li>copy initialization</li>
<li>direct initialization</li>
<li>uniform initialization.</li>
</ul>
<p>An <code>expression</code> is a combination of literals, variables, operators, and explicit function calls (not shown above) that produces a single output value. When an expression is executed, each of the terms in the expression is evaluated <strong>until a single value remains</strong> (this process is called <code>evaluation</code>). That single value is the result of the expression.</p>
<p><strong>Statements vs. Expressions:</strong></p>
<ul>
<li><code>Statements</code> are used when we want the program to perform an action.</li>
<li><code>Expressions</code> are used when we want the program to calculate a value.</li>
</ul>
<p>Certain expressions (e.g. <code>x = 5</code>) are useful by themselves. However, we mentioned above that expressions must be part of a statement, so how can we use these expressions by themselves?</p>
<p>Fortunately, we can convert any expression into an equivalent statement (called an expression statement). An expression statement is a statement that consists of an expression followed by a semicolon. When the statement is executed, the expression will be evaluated (and the result of the expression will be discarded).</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x;  <span class="comment">// this statement does not contain an expression (this is just a variable definition)</span></span><br><span class="line"><span class="number">5</span> * <span class="number">6</span>;</span><br><span class="line"><span class="number">5</span> &lt; <span class="number">6</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; x; <span class="comment">// hint: operator &lt;&lt; is a binary operator</span></span><br><span class="line"><span class="comment">// If operator &lt;&lt; is a binary operator, then std::cout must be the left-hand operand,</span></span><br><span class="line"><span class="comment">// and x must be the right-hand operand. Since that's the entire statement,</span></span><br><span class="line"><span class="comment">// this must be an expression statement.</span></span><br></pre></td></tr></table></figure>
<h3 id="Functions-and-Files"><a href="#Functions-and-Files" class="headerlink" title="Functions and Files"></a>Functions and Files</h3><p>C++ does not define whether function calls evaluate arguments <code>left to right or vice-versa</code>.</p>
<p>Function parameters and variables defined inside the function body are called local variables. The time in which a variable exists is called its lifetime. Variables are created and destroyed at runtime, which is when the program is running. A variable‚Äôs scope determines where it can be accessed. When a variable can be accessed, we say it is in scope. When it cannot be accessed, we say it is out of scope. Scope is a <code>compile-time</code> property, meaning it is enforced at compile time.</p>
<p><code>Refactoring</code> is the process of breaking down a larger function into many smaller, simpler functions.</p>
<p><code>Whitespace</code> refers to characters used for formatting purposes. In C++, this includes spaces, tabs, and newlines.</p>
<ul>
<li>A <code>definition</code> actually implements (for functions and types) or instantiates (for variables) an identifier.</li>
<li>A <code>declaration</code> is a statement that tells the compiler about the existence of the identifier. In C++, all definitions serve as declarations. Pure declarations are declarations that are not definitions (such as function prototypes).</li>
</ul>
<h3 id="Namespace"><a href="#Namespace" class="headerlink" title="Namespace"></a>Namespace</h3><p>In C++, a namespace is a grouping of identifiers that is used to reduce the possibility of naming collisions. <strong>It turns out that std::cout‚Äòs name isn‚Äôt really std::cout.</strong> It‚Äôs actually just <code>cout</code>, and <code>std</code> is the name of the namespace that identifier <code>cout</code> is part of. In modern C++, all of the functionality in the C++ standard library is now defined inside namespace <code>std</code> (short for standard).</p>
<p>When you use an identifier that is defined inside a namespace (such as the <code>std</code> namespace), you have to tell the compiler that the identifier lives inside the namespace.</p>
<ul>
<li><p>Explicit namespace qualifier <code>std::</code><br>This is the safest way to use <code>cout</code>, sine there‚Äôs no ambiguity.</p>
</li>
<li><p>Using directive (and why to avoid it!!!)<br>A <code>using</code> directive tells the compiler to check a specified namespace when trying to resolve an identifier that has no namespace prefix. So in the above example, when the compiler goes to determine what identifier <code>cout</code> is, it will check both <strong>locally</strong> (where it is undefined) and in the <strong>std namespace</strong> (where it will match to std::cout).</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello World!"</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>Many texts, tutorials, and even some compilers recommend or use a <code>using</code> directive at the top of the program. <strong>However, this is a bad practice, and is highly discouraged</strong>.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt; // imports the declaration of std::cout</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; <span class="comment">// makes std::cout accessible as "cout"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cout</span><span class="params">()</span> </span>&#123; <span class="comment">// declares our own "cout" function</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello, world!"</span>;</span><br><span class="line">  <span class="comment">// Compile error!  Which cout do we want here?</span></span><br><span class="line">  <span class="comment">// The one in the std namespace or the one we defined above?</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="bool-amp-Literals"><a href="#bool-amp-Literals" class="headerlink" title="bool &amp; Literals"></a>bool &amp; Literals</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">bool</span> flag;  <span class="comment">// remember to initialize it!</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; flag &lt;&lt; <span class="string">"\n"</span>; <span class="comment">// 1 or 0</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In C++, <code>bool</code> is treated as 0 or 1.</p>
<p>C++ has two kinds of constants: <code>literal</code> and <code>symbolic</code>. In this lesson, we‚Äôll cover literals.</p>
<p>Just like variables have a type, all literals have a type too. The type of a literal is assumed from the value and format of the literal itself.</p>
<p><img src="https://bloggg-1254259681.cos.na-siliconvalley.myqcloud.com/oa9vs.jpg" alt=""></p>
<p>You can use <code>literal suffixes</code> to change the default type of a literal if its type is not what you want.</p>
<p><img src="https://bloggg-1254259681.cos.na-siliconvalley.myqcloud.com/5u9z5.jpg" alt=""></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> f1 = <span class="number">5.0f</span>;</span><br><span class="line"><span class="keyword">float</span> f2 = <span class="number">4.1</span>; <span class="comment">// // since the type of 4.0 is double, it results in a loss of precision</span></span><br></pre></td></tr></table></figure>
<p>In C++14, we can assign binary literals by using <code>0b</code> prefix:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bin</span><span class="params">(<span class="number">0</span>)</span></span>;</span><br><span class="line">bin = <span class="number">0b1</span>;  <span class="comment">// assign binary 0000 0001 to the variable</span></span><br><span class="line">bin = <span class="number">0b11</span>; <span class="comment">// assign binary 0000 0011 to the variable</span></span><br><span class="line">bin = <span class="number">0b1010</span>; <span class="comment">// assign binary 0000 1010 to the variable</span></span><br><span class="line">bin = <span class="number">0b11110000</span>; <span class="comment">// assign binary 1111 0000 to the variable</span></span><br></pre></td></tr></table></figure>
<p>Because long literals can be hard to read, C++14 also adds the ability to use a quotation mark <code>&#39;</code> as a digit separator. In Java, we use <code>_</code> instead.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> bin = <span class="number">0b1011'0010</span>;  <span class="comment">// assign binary 1011 0010 to the variable</span></span><br><span class="line"><span class="keyword">long</span> value = <span class="number">2'132'673'462</span>; <span class="comment">// much easier to read than 2132673462</span></span><br></pre></td></tr></table></figure>
<h3 id="const"><a href="#const" class="headerlink" title="const"></a>const</h3><p>To make a variable constant, simply put the <code>const</code> keyword either <strong>before</strong> or <strong>after</strong> the type identifier, like so:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> gravity &#123; <span class="number">9.8</span> &#125;; <span class="comment">// preferred use of const before type</span></span><br><span class="line"><span class="keyword">int</span> <span class="keyword">const</span> sidesInSquare &#123; <span class="number">4</span> &#125;; <span class="comment">// okay, but not preferred</span></span><br></pre></td></tr></table></figure>
<p>Although C++ will accept <code>const</code> either before or after the type identifier, we recommend using it <strong>before</strong> the type because it better follows standard English language convention where modifiers come before the object being modified (e.g. a green ball, not a ball green).</p>
<p><strong>Const variables must be initialized when you define them</strong>, and then that value cannot be changed via assignment. Otherwise, it will cause a compile error:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> gravity;  <span class="comment">// compiler error</span></span><br></pre></td></tr></table></figure>
<p>Note that const variables can be initialized from non-const values:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Enter your age: "</span>;</span><br><span class="line"><span class="keyword">int</span> age;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; age;</span><br><span class="line"><span class="function"><span class="keyword">const</span> <span class="keyword">int</span> <span class="title">usersAge</span> <span class="params">(age)</span></span>; <span class="comment">// usersAge cannot be changed</span></span><br></pre></td></tr></table></figure>
<p>Const is used most often with function parameters:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printInteger</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> myValue)</span> </span>&#123;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; myValue &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Does two things:</p>
<ul>
<li>Let the person calling the function know that the function will not change the value of <code>myValue</code>.</li>
<li>It ensures that the function doesn‚Äôt change the value of <code>myValue</code>.</li>
</ul>
<p>However, with parameters passed by value, like the above, we generally don‚Äôt care if the function changes the value of the parameter, since it‚Äôs just a copy that will be destroyed later. Thus, we usually don‚Äôt make parameters passed by value const.</p>
<p><code>Runtime constants</code> are those whose initialization values can only be resolved at runtime (when your program is running). Variables such as <code>myValue</code> above is a runtime constant, because the compiler can‚Äôt determine their values at compile time. <code>myValue</code> depends on the value passed into the function (which is only known at runtime).</p>
<p><strong>In most cases, it doesn‚Äôt matter whether a constant value is runtime or compile-time.</strong> However, there are a few odd cases where C++ requires a compile-time constant instead of a run-time constant (such as <strong>when defining the length of a fixed-size array</strong> ‚Äî we‚Äôll cover this later). Because a const value could be either runtime or compile-time, the compiler has to keep track of which kind of constant it is.</p>
<p>To help provide more specificity, C++11 introduced new keyword <code>constexpr</code>, which ensures that the constant must be a compile-time constant:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">constexpr</span> <span class="keyword">double</span> <span class="title">gravity</span> <span class="params">(<span class="number">9.8</span>)</span></span>;</span><br><span class="line"><span class="comment">// ok, the value of 9.8 can be resolved at compile-time</span></span><br><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> sum = <span class="number">4</span> + <span class="number">5</span>;</span><br><span class="line"><span class="comment">// ok, the value of 4 + 5 can be resolved at compile-time</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Enter your age: "</span>;</span><br><span class="line"><span class="keyword">int</span> age;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; age;</span><br><span class="line"><span class="keyword">constexpr</span> <span class="keyword">int</span> myAge = age;</span><br><span class="line"><span class="comment">// not okay, age cannot be resolved at compile-time</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>Rule 1:</strong> Any variable that should not change values after initialization and whose initializer is known at compile-time should be declared as <code>constexpr</code>.</li>
<li><strong>Rule 2:</strong> Any variable that should not change values after initialization and whose initializer is not known at compile-time should be declared as <code>const</code>.</li>
</ul>
<p><strong>Naming your const variables:</strong> Some programmers prefer to use all <code>upper-case</code> names for const variables. Others use normal variable names with a <code>k</code> prefix. However, we will use normal variable naming conventions, which is more common. Const variables act exactly like normal variables in every case except that they cannot be assigned to, so <strong>there‚Äôs no particular reason they need to be denoted as special.</strong></p>
<p><strong>Symbolic constants:</strong> A symbolic constant is a name given to a constant literal value. There are two ways to declare symbolic constants in C++. One of them is good, and the other one is not.</p>
<ul>
<li>Bad: Using object-like <code>macros</code> with a substitution parameter as symbolic constants.</li>
<li>Better: Use <code>const</code> variables, or better, <code>constexpr</code>.</li>
</ul>
<p>That way using symbolic constants, if you ever need to change them, you only need to change them in one place.</p>
<h3 id="Side-effects-in-inc-dec"><a href="#Side-effects-in-inc-dec" class="headerlink" title="Side effects in inc / dec"></a>Side effects in inc / dec</h3><p>A function or expression is said to have a <code>side effect</code> if it modifies some state (e.g. any stored information in memory), does input or output, or calls other functions that have side effects.</p>
<p>Usually, they are useful:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">5</span>; <span class="comment">// the assignment operator modifies the state of x</span></span><br><span class="line">++x; <span class="comment">// operator++ modifies the state of x</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; x; <span class="comment">// operator&lt;&lt; modifies the state of the console</span></span><br></pre></td></tr></table></figure>
<p>However, side effects can also lead to unexpected results:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123; <span class="keyword">return</span> x + y; &#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> x = <span class="number">5</span>;</span><br><span class="line">  <span class="keyword">int</span> value = add(x, ++x); </span><br><span class="line">  <span class="comment">// is this 5 + 6, or 6 + 6?  It depends on what in order your compiler evaluates the function arguments.</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; value;</span><br><span class="line">  <span class="comment">// value could be 11 or 12, depending on how the above line evaluates!</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>C++ does not define the order in which function arguments are evaluated. Note that this is only a problem because one of the arguments to function <code>add()</code> has a side effect.</p>
<p>Another popular example:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> x = <span class="number">1</span>;</span><br><span class="line">  x = x++;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; x;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; <span class="comment">// the output is undefined</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>If the <code>++</code> is applied to <code>x</code> <strong>before</strong> the assignment, the answer will be 1 (postfix operator++ increments <code>x</code> from 1 to 2, but it evaluates to 1, so the expression becomes <code>x = 1</code>).</p>
</li>
<li><p>If the <code>++</code> is applied to <code>x</code> <strong>after</strong> the assignment, the answer will be 2 (this evaluates as <code>x = x</code>, then postfix operator++ is applied, incrementing <code>x</code> from 1 to 2).</p>
</li>
</ul>
<p>There are other cases where C++ does not specify the order in which certain things are evaluated, <strong>so different compilers will make different assumptions</strong>. </p>
<p>Please <strong>don‚Äôt ask</strong> why your programs that violate the above rules produce results that don‚Äôt seem to make sense. That‚Äôs what happens when you write programs that have <code>&quot;undefined behavior&quot;</code>. :)</p>
<h3 id="Bit-flags-amp-Bit-masks-optional"><a href="#Bit-flags-amp-Bit-masks-optional" class="headerlink" title="Bit flags &amp; Bit masks (optional)"></a>Bit flags &amp; Bit masks (optional)</h3><p>In the majority of cases, this is fine ‚Äî we‚Äôre usually not so hard-up for memory that we need to care about 7 wasted bits. However, in some storage-intensive cases, it can be useful to ‚Äúpack‚Äù 8 individual boolean values into a single byte for storage efficiency purposes. This is done by using the <code>bitwise operators</code> to set, clear, and query individual bits in a byte, treating each as a <code>separate boolean value</code>. These individual bits are called <code>bit flags</code>.</p>
<h4 id="Defining-bit-flags-in-C-14"><a href="#Defining-bit-flags-in-C-14" class="headerlink" title="Defining bit flags in C++14"></a>Defining bit flags in C++14</h4><p>In order to work with individual bits, we need to have a way to identify the individual bits within a byte, so we can manipulate those bits (turn them on and off). This is typically done by defining a symbolic constant to give a meaningful name to each bit used. The symbolic constant is given a value that represents that bit.</p>
<p>Because C++14 supports binary literals, this is easiest in C++14:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Define 8 separate bit flags (these can represent whatever you want)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option0 = <span class="number">0b0000'0001</span>; <span class="comment">// represents bit 0</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option1 = <span class="number">0b0000'0010</span>; <span class="comment">// represents bit 1</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option2 = <span class="number">0b0000'0100</span>; <span class="comment">// represents bit 2 </span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option3 = <span class="number">0b0000'1000</span>; <span class="comment">// represents bit 3</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option4 = <span class="number">0b0001'0000</span>; <span class="comment">// represents bit 4</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option5 = <span class="number">0b0010'0000</span>; <span class="comment">// represents bit 5</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option6 = <span class="number">0b0100'0000</span>; <span class="comment">// represents bit 6</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option7 = <span class="number">0b1000'0000</span>; <span class="comment">// represents bit 7</span></span><br></pre></td></tr></table></figure>
<h4 id="Defining-bit-flags-in-C-11-or-earlier"><a href="#Defining-bit-flags-in-C-11-or-earlier" class="headerlink" title="Defining bit flags in C++11 or earlier"></a>Defining bit flags in C++11 or earlier</h4><p>Because C++11 doesn‚Äôt support <code>binary literals</code>, we have to use other methods to set the symbolic constants. There are two good methods for doing this. Less comprehensible, but more common, is to use hexadecimal.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Define 8 separate bit flags (these can represent whatever you want)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option0 = <span class="number">0x1</span>; <span class="comment">// hex for 0000 0001 </span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option1 = <span class="number">0x2</span>; <span class="comment">// hex for 0000 0010</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option2 = <span class="number">0x4</span>; <span class="comment">// hex for 0000 0100</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option3 = <span class="number">0x8</span>; <span class="comment">// hex for 0000 1000</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option4 = <span class="number">0x10</span>; <span class="comment">// hex for 0001 0000</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option5 = <span class="number">0x20</span>; <span class="comment">// hex for 0010 0000</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option6 = <span class="number">0x40</span>; <span class="comment">// hex for 0100 0000</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option7 = <span class="number">0x80</span>; <span class="comment">// hex for 1000 0000</span></span><br></pre></td></tr></table></figure>
<p>This can be a little hard to read. One way to make it easier is to use the left-shift operator to shift a bit into the proper location.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option0 = <span class="number">1</span> &lt;&lt; <span class="number">0</span>; <span class="comment">// 0000 0001 </span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option1 = <span class="number">1</span> &lt;&lt; <span class="number">1</span>; <span class="comment">// 0000 0010</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option2 = <span class="number">1</span> &lt;&lt; <span class="number">2</span>; <span class="comment">// 0000 0100</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option3 = <span class="number">1</span> &lt;&lt; <span class="number">3</span>; <span class="comment">// 0000 1000</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option4 = <span class="number">1</span> &lt;&lt; <span class="number">4</span>; <span class="comment">// 0001 0000</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option5 = <span class="number">1</span> &lt;&lt; <span class="number">5</span>; <span class="comment">// 0010 0000</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option6 = <span class="number">1</span> &lt;&lt; <span class="number">6</span>; <span class="comment">// 0100 0000</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> option7 = <span class="number">1</span> &lt;&lt; <span class="number">7</span>; <span class="comment">// 1000 0000</span></span><br></pre></td></tr></table></figure>
<h4 id="Using-bit-flags-to-manipulate-bits"><a href="#Using-bit-flags-to-manipulate-bits" class="headerlink" title="Using bit flags to manipulate bits"></a>Using bit flags to manipulate bits</h4><p>The next thing we need is a variable that we want to manipulate. Typically, we use an unsigned integer of the appropriate size (8 bits, 16 bits, 32 bits, etc‚Ä¶ depending on how many options we have).</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> myflags = <span class="number">0</span>; <span class="comment">// all bits turned off to start</span></span><br></pre></td></tr></table></figure>
<h4 id="To-set-a-bit-turn-on"><a href="#To-set-a-bit-turn-on" class="headerlink" title="To set a bit (turn on)"></a>To set a bit (turn on)</h4><p>We use bitwise OR equals (operator |=):</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">myflags |= option4; <span class="comment">// turn option 4 on</span></span><br><span class="line">myflags |= (option4 | option5); <span class="comment">// turn on multiple bits</span></span><br><span class="line"><span class="comment">// myflags = 0000 0000 (we initialized this to 0)</span></span><br><span class="line"><span class="comment">// option4 = 0001 0000</span></span><br><span class="line"><span class="comment">// -------------------</span></span><br><span class="line"><span class="comment">// result  = 0001 0000</span></span><br></pre></td></tr></table></figure>
<h4 id="Turn-bits-off"><a href="#Turn-bits-off" class="headerlink" title="Turn bits off"></a>Turn bits off</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">myflags &amp;= ~option4;</span><br><span class="line">myflags &amp;= ~(option4 | option5);</span><br><span class="line"><span class="comment">// myflags  = 0001 1100</span></span><br><span class="line"><span class="comment">// ~option4 = 1110 1111</span></span><br><span class="line"><span class="comment">// --------------------</span></span><br><span class="line"><span class="comment">// result   = 0000 1100</span></span><br></pre></td></tr></table></figure>
<h4 id="Toggle-a-bit-state"><a href="#Toggle-a-bit-state" class="headerlink" title="Toggle a bit state"></a>Toggle a bit state</h4><p>We use bitwise XOR:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">myflags ^= option4; <span class="comment">// flip option4 from on to off, or vice versa</span></span><br><span class="line">myflags ^= (option4 | option5); <span class="comment">// flip options 4 and 5 at the same time</span></span><br></pre></td></tr></table></figure>
<h4 id="Determining-if-a-bit-is-on-or-off"><a href="#Determining-if-a-bit-is-on-or-off" class="headerlink" title="Determining if a bit is on or off"></a>Determining if a bit is on or off</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (myflags &amp; option4)</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"myflags has option 4 set"</span>;</span><br><span class="line"><span class="keyword">if</span> (!(myflags &amp; option5))</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"myflags does not have option 5 set"</span>;</span><br></pre></td></tr></table></figure>
<p>Here is an actual example for a game we might write:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Define a bunch of physical/emotional states</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> isHungry = <span class="number">1</span> &lt;&lt; <span class="number">0</span>; <span class="comment">// 0000 0001</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> isSad = <span class="number">1</span> &lt;&lt; <span class="number">1</span>; <span class="comment">// 0000 0010</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> isMad = <span class="number">1</span> &lt;&lt; <span class="number">2</span>; <span class="comment">// 0000 0100</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> isHappy = <span class="number">1</span> &lt;&lt; <span class="number">3</span>; <span class="comment">// 0000 1000</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> isLaughing = <span class="number">1</span> &lt;&lt; <span class="number">4</span>; <span class="comment">// 0001 0000</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> isAsleep = <span class="number">1</span> &lt;&lt; <span class="number">5</span>; <span class="comment">// 0010 0000</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> isDead = <span class="number">1</span> &lt;&lt; <span class="number">6</span>; <span class="comment">// 0100 0000</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> isCrying = <span class="number">1</span> &lt;&lt; <span class="number">7</span>; <span class="comment">// 1000 0000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> me = <span class="number">0</span>; <span class="comment">// all flags/options turned off to start</span></span><br><span class="line">me |= isHappy | isLaughing; <span class="comment">// I am happy and laughing</span></span><br><span class="line">me &amp;= ~isLaughing; <span class="comment">// I am no longer laughing</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Query a few states (we'll use static_cast&lt;bool&gt; to interpret the results as a boolean value rather than an integer)</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"I am happy? "</span> &lt;&lt; <span class="keyword">static_cast</span>&lt;<span class="keyword">bool</span>&gt;(me &amp; isHappy) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"I am laughing? "</span> &lt;&lt; <span class="keyword">static_cast</span>&lt;<span class="keyword">bool</span>&gt;(me &amp; isLaughing) &lt;&lt; <span class="string">'\n'</span>;</span><br></pre></td></tr></table></figure>
<h4 id="Why-are-bit-flags-useful"><a href="#Why-are-bit-flags-useful" class="headerlink" title="Why are bit flags useful?"></a>Why are bit flags useful?</h4><p>Astute readers will note that the above myflags example actually doesn‚Äôt save any memory. 8 booleans would normally take 8 bytes. But the above example uses 9 bytes (8 bytes to define the bit flag options, and 1 bytes for the bit flag)! So why would you actually want to use bit flags?</p>
<p>Bit flags are typically used in two cases:</p>
<ul>
<li><p>When you have many sets of identical bitflags.</p>
</li>
<li><p>Imagine you had a function that could take any combination of 32 different options. One way to write that function would be to use 32 individual boolean parameters:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">someFunction</span><span class="params">(<span class="keyword">bool</span> option1, <span class="keyword">bool</span> option2, <span class="keyword">bool</span> option3, <span class="keyword">bool</span> option4, <span class="keyword">bool</span> option5, <span class="keyword">bool</span> option6, <span class="keyword">bool</span> option7, <span class="keyword">bool</span> option8, <span class="keyword">bool</span> option9, <span class="keyword">bool</span> option10, <span class="keyword">bool</span> option11, <span class="keyword">bool</span> option12, <span class="keyword">bool</span> option13, <span class="keyword">bool</span> option14, <span class="keyword">bool</span> option15, <span class="keyword">bool</span> option16, <span class="keyword">bool</span> option17, <span class="keyword">bool</span> option18, <span class="keyword">bool</span> option19, <span class="keyword">bool</span> option20, <span class="keyword">bool</span> option21, <span class="keyword">bool</span> option22, <span class="keyword">bool</span> option23, <span class="keyword">bool</span> option24, <span class="keyword">bool</span> option25, <span class="keyword">bool</span> option26, <span class="keyword">bool</span> option27, <span class="keyword">bool</span> option28, <span class="keyword">bool</span> option29, <span class="keyword">bool</span> option30, <span class="keyword">bool</span> option31, <span class="keyword">bool</span> option32)</span></span>;</span><br><span class="line"><span class="comment">// ‚Üì</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">someFunction</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">int</span> options)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="An-introduction-to-std-bitset"><a href="#An-introduction-to-std-bitset" class="headerlink" title="An introduction to std::bitset"></a>An introduction to std::bitset</h4><p>All of this bit flipping is exhausting, isn‚Äôt it? Fortunately, the C++ standard library comes with functionality called <code>std::bitset</code> that helps us manage bit flags.</p>
<p>To create a std::bitset, you need to include the bitset header, and then define a std::bitset variable indicating how many bits are needed. The number of bits must be a compile time constant.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Note that with std::bitset, our options correspond to bit indices, not bit patterns</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> option0 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> option1 = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> option2 = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> option3 = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> option4 = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> option5 = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> option6 = <span class="number">6</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> option7 = <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;8&gt; bits; <span class="comment">// we need 8 bits</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;8&gt; bits(option1 | option2);</span><br><span class="line"><span class="comment">// start with option 1 and 2 turned on</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">bitset</span>&lt;8&gt; morebits(<span class="number">0x3</span>);</span><br><span class="line"><span class="comment">// start with bit pattern 0000 0011</span></span><br></pre></td></tr></table></figure>
<p>std::bitset provides 4 key functions:</p>
<ul>
<li>test() allows us to query whether a bit is a 0 or 1</li>
<li>set() allows us to turn a bit on (this will do nothing if the bit is already on)</li>
<li>reset() allows us to turn a bit off (this will do nothing if the bit is already off)</li>
<li>flip() allows us to flip a bit from a 0 to a 1 or vice versa</li>
</ul>
<h4 id="Bit-masks"><a href="#Bit-masks" class="headerlink" title="Bit masks"></a>Bit masks</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> redBits   = <span class="number">0xFF'00'00'00</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> greenBits = <span class="number">0x00'FF'00'00</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> blueBits  = <span class="number">0x00'00'FF'00</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> alphaBits = <span class="number">0x00'00'00'FF</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Enter a 32-bit RGBA color value in hexadecimal (e.g. FF7F3300): "</span>;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> pixel;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; <span class="built_in">std</span>::hex &gt;&gt; pixel; <span class="comment">// std::hex allows us to read in a hex value</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// use bitwise AND to isolate red pixels, then right shift the value into the range 0-255</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> red = (pixel &amp; redBits) &gt;&gt; <span class="number">24</span>;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> green = (pixel &amp; greenBits) &gt;&gt; <span class="number">16</span>;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> blue = (pixel &amp; blueBits) &gt;&gt; <span class="number">8</span>;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> alpha = pixel &amp; alphaBits;</span><br><span class="line"></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Your color contains:\n"</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(red) &lt;&lt; <span class="string">" of 255 red\n"</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(green) &lt;&lt; <span class="string">" of 255 green\n"</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(blue) &lt;&lt; <span class="string">" of 255 blue\n"</span>;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="keyword">static_cast</span>&lt;<span class="keyword">int</span>&gt;(alpha) &lt;&lt; <span class="string">" of 255 alpha\n"</span>;</span><br></pre></td></tr></table></figure>
<h3 id="Variable-Scope-and-More-Types"><a href="#Variable-Scope-and-More-Types" class="headerlink" title="Variable Scope and More Types"></a>Variable Scope and More Types</h3><h4 id="Local-variables-scope-and-duration"><a href="#Local-variables-scope-and-duration" class="headerlink" title="Local variables, scope, and duration"></a>Local variables, scope, and duration</h4><p>When discussing variables, it‚Äôs useful to separate out the concepts of scope and duration. </p>
<ul>
<li>A variable‚Äôs <code>scope</code> determines where a variable is accessible.</li>
<li>A variable‚Äôs <code>duration</code> determines when it is created and destroyed. The two concepts are often linked.</li>
</ul>
<p>Variables defined inside a function are called <code>local variables</code>. Local variables have <code>automatic duration</code>, which means they are created (and initialized, if relevant) at the point of definition, and destroyed when the block they are defined in is exited. Local variables have <code>block scope</code> (also called <code>local scope</code>), which means they enter scope at the point of declaration and go out of scope at the end of the block that they are defined in.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; <span class="comment">// outer block</span></span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">n</span><span class="params">(<span class="number">5</span>)</span></span>; <span class="comment">// n created and initialized here</span></span><br><span class="line"></span><br><span class="line">  &#123; <span class="comment">// begin nested block</span></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">d</span><span class="params">(<span class="number">4.0</span>)</span></span>; <span class="comment">// d gets created and initialized here</span></span><br><span class="line">  &#125; <span class="comment">// d goes out of scope and is destroyed here</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// d cannot be used here because it was already destroyed!</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; <span class="comment">// n goes out of scope and is destroyed here</span></span><br></pre></td></tr></table></figure>
<p>Note that a variable inside a nested block can have the same name as a variable inside an outer block. When this happens, the nested variable ‚Äúhides‚Äù the outer variable. This is called name <code>hiding</code> or <code>shadowing</code>.</p>
<p>Shadowing is something that <strong>should generally be avoided</strong>, as it is quite confusing!</p>
<p><strong>Rule:</strong> <code>Avoid using nested variables</code> with the same names as variables in an outer block. Variables should be defined in the <strong>most limited scope</strong> possible.</p>
<h4 id="Global-variables-and-linkage"><a href="#Global-variables-and-linkage" class="headerlink" title="Global variables and linkage"></a>Global variables and linkage</h4><p>Variables declared outside of a function are called <code>global variables</code>. Global variables have <code>static duration</code>, which means they are created when the program starts and are destroyed when it ends. Global variables have <code>file scope</code> (also informally called <code>global scope</code> or <code>global namespace scope</code>), which means they are visible until the end of the file in which they are declared.</p>
<p>Similar to how variables in an inner block with the same name as a variable in an outer block hides the variable in the outer block, local variables with the same name as a global variable hide the global variable inside the block that the local variable is declared in. However, the global scope operator <code>::</code> can be used to tell the compiler you mean the global version instead of the local version.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">value</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> value = <span class="number">7</span>;</span><br><span class="line">  value++;    <span class="comment">// local</span></span><br><span class="line">  ::value++;  <span class="comment">// global</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>However, having local variables with the same name as global variables is usually a recipe for trouble, and <strong>should be avoided whenever possible</strong>. By convention, many developers prefix global variable names with <code>g_</code> to indicate that they are global. This both helps identify global variables as well as avoid naming conflicts with local variables.</p>
<p><strong>Internal and external linkage via the <code>static</code> and <code>extern</code> keywords:</strong></p>
<p>In addition to scope and duration, variables have a third property: <code>linkage</code>. A variable‚Äôs linkage determines whether multiple instances of an identifier refer to the same variable or not.</p>
<p>(Strong &amp; weak symbols?)</p>
<ul>
<li><p>A variable with no linkage can only be referred to from the limited scope it exists in. Regular local variables are an example of variables with no linkage. Two local variables with the same name but defined in different functions have no linkage ‚Äî each will be considered an independent variable.</p>
</li>
<li><p>A variable with <code>internal linkage</code> is called an <code>internal variable</code> (or <code>static variable</code>). Variables with internal linkage can be used anywhere within the file they are defined in, but cannot be referenced outside the file they exist in.</p>
</li>
<li><p>A variable with <code>external linkage</code> is called an <code>external variable</code>. Variables with external linkage can be used both in the file they are defined in, as well as in other files.</p>
</li>
</ul>
<p>If we want to make a global variable internal (able to be used only within a single file), we can use the <code>static</code> keyword to do so; similarly, if we want to make a global variable external (able to be used anywhere in our program), we can use the <code>extern</code> keyword to do so.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">extern</span> <span class="keyword">double</span> <span class="title">g_y</span><span class="params">(<span class="number">9.8</span>)</span></span>; </span><br><span class="line"><span class="comment">// g_y is external, and can be used by other files</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// Note: those other files will need to use a forward declaration to access this external variable (extern)</span></span><br></pre></td></tr></table></figure>
<p><strong>By default</strong>, non-const variables declared outside of a function are assumed to be <code>external</code>. However, const variables declared outside of a function are assumed to be internal.</p>
<p>Note that this means the <code>extern</code> keyword has different meanings in different contexts:</p>
<ul>
<li>In some contexts, extern means ‚Äúgive this variable external linkage‚Äù. </li>
<li>In other contexts, extern means ‚Äúthis is a forward declaration for an external variable that is defined somewhere else‚Äù.</li>
</ul>
<p><strong>Function linkage:</strong></p>
<p>Functions have the same linkage property that variables do. Functions always default to external linkage, but can be set to internal linkage via the static keyword.</p>
<p>Function forward declarations don‚Äôt need the extern keyword. The compiler is able to tell whether you‚Äôre defining a function or a function prototype by whether you supply a function body or not.</p>
<p><strong>The one-definition rule and non-external linkage:</strong></p>
<p>Forward declarations and definitions, we noted that the one-definition rule says that an object or function can‚Äôt have more than one definition, either within a file or a program.</p>
<p>However, it‚Äôs worth noting that non-extern objects and functions in different files are considered to be different entities, even if their names and types are identical. This makes sense, since they can‚Äôt be seen outside of their respective files anyway.</p>
<p><strong>Global symbolic constants:</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CONSTANTS_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CONSTANTS_H</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// define your own namespace to hold constants</span></span><br><span class="line"><span class="keyword">namespace</span> Constants &#123;</span><br><span class="line">  <span class="function"><span class="keyword">const</span> <span class="keyword">double</span> <span class="title">pi</span><span class="params">(<span class="number">3.14159</span>)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">const</span> <span class="keyword">double</span> <span class="title">avogadro</span><span class="params">(<span class="number">6.0221413e23</span>)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">const</span> <span class="keyword">double</span> <span class="title">my_gravity</span><span class="params">(<span class="number">9.2</span>)</span></span>;</span><br><span class="line">  <span class="comment">// m/s^2 -- gravity is light on this planet</span></span><br><span class="line">  <span class="comment">// ... other related constants</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>This duplication of variables isn‚Äôt really that much of a problem (since constants aren‚Äôt likely to be huge), but changing a single constant <strong>value (not names)</strong> would require <strong>recompiling every file</strong> that includes the constants header, which can lead to lengthy rebuild times for larger projects.</p>
<p>We can avoid this problem by turning these constants into const global variables, and changing the header file to hold only the variable forward declarations:</p>
<p>constants.cpp:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> Constants &#123;</span><br><span class="line">  <span class="comment">// actual global variables</span></span><br><span class="line">  <span class="function"><span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">double</span> <span class="title">pi</span><span class="params">(<span class="number">3.14159</span>)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">double</span> <span class="title">avogadro</span><span class="params">(<span class="number">6.0221413e23</span>)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">double</span> <span class="title">my_gravity</span><span class="params">(<span class="number">9.2</span>)</span></span>; </span><br><span class="line">  <span class="comment">// m/s^2 -- gravity is light on this planet</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>constants.h:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> CONSTANTS_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CONSTANTS_H</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> Constants &#123;</span><br><span class="line">  <span class="comment">// forward declarations only</span></span><br><span class="line">  <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">double</span> pi;</span><br><span class="line">  <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">double</span> avogadro;</span><br><span class="line">  <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keyword">double</span> my_gravity;</span><br><span class="line">&#125; <span class="comment">// use of g_ is not necessary</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>However, there are a couple of <code>downsides</code> to doing this. First, these constants are now considered compile-time constants only within the file they are actually defined in (constants.cpp), not anywhere else they are used. This means that outside of constants.cpp, <strong>they can‚Äôt be used anywhere that requires a compile-time constant (constexpr)</strong> (such as for the length of a fixed array, something we talk about in chapter 6). Second, the compiler may <strong>not be able to optimize</strong> these as much.</p>
<p>Given the above downsides, we recommend defining your constants in the header file. If you find that for some reason those constants are causing trouble, you can move them into a .cpp file as per the above as needed.</p>
<p>Link: <a href="https://stackoverflow.com/questions/10422034/when-to-use-extern-in-c" target="_blank" rel="noopener">When to use extern in C++</a></p>
<h4 id="Why-non-const-global-variables-are-evil"><a href="#Why-non-const-global-variables-are-evil" class="headerlink" title="Why (non-const) global variables are evil?"></a>Why (non-const) global variables are evil?</h4><p>If you were to ask a veteran programmer for one piece of advice on good programming practices, after some thought, the most likely answer would be, <strong>‚ÄúAvoid global variables!‚Äù</strong>. And with good reason: global variables are one of the most abused concepts in the language. Although they may seem harmless in small academic programs, they are often hugely problematic in larger ones.</p>
<p>But before we go into why, we should make a clarification. When developers tell you that global variables are evil, they‚Äôre not talking about ALL global variables. They‚Äôre mostly talking about <strong>non-const</strong> global variables.</p>
<p>One of the reasons to declare local variables as close to where they are used as possible is because doing so <strong>minimizes the amount of code you need to look through to understand what the variable does</strong>. Global variables are at the opposite end of the spectrum ‚Äî because they can be used anywhere, you might have to look through a significant amount of code to understand their usage.</p>
<p>Global variables also make your program <strong>less modular and less flexible</strong>. A function that utilizes nothing but its parameters and has no side effects is perfectly modular. Modularity helps both in understanding what a program does, as well as with reusability. Global variables reduce modularity significantly.</p>
<p><strong>Rule:</strong> Use local variables instead of global variables whenever reasonable, and pass them to the functions that need them.</p>
<p><strong>So what are very good reasons to use non-const global variables?</strong></p>
<p>There aren‚Äôt many. In many cases, there are other ways to solve the problem that avoids the use of non-const global variables. But in some cases, judicious use of non-const global variables can actually reduce program complexity, and in these rare cases, their use may be better than the alternatives.</p>
<p>For example, if your program uses a database to read and write data, it may make sense to define the database globally, because it could be needed from anywhere. Similarly, if your program has an error log (or debug log) where you can dump error (or debug) information, it probably makes sense to define that globally, because you‚Äôre mostly likely to only have one log and it could be used anywhere. A sound library would be another good example: you probably don‚Äôt want to pass this to every function that needs it. Since you‚Äôll probably only have one sound library managing all of your sounds, it may be better to declare it globally, initialize it at program launch, and then treat it as read-only thereafter.</p>
<p>If you do find a good use for a non-const global variable, a few useful bits of advice will minimize the amount of trouble you can get into.</p>
<ul>
<li><p>First, prefix all your global variables with <code>g_</code>, and/or put them in a namespace, both to reduce the chance of naming collisions and raise awareness that a variable is global.</p>
</li>
<li><p>Second, instead of allowing direct access to the global variable, it‚Äôs a better practice to ‚Äúencapsulate‚Äù the variable.</p>
</li>
<li><p>Third, when writing a standalone function that uses the global variable, <strong>don‚Äôt use the variable directly in your function body. Instead, pass it in as a parameter, and use the parameter.</strong> That way, if your function ever needs to use a different value for some circumstance, you can simply vary the parameter. This helps maintain modularity.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">instantVelocity</span><span class="params">(<span class="keyword">int</span> time)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> g_gravity * time;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">instantVelocity</span><span class="params">(<span class="keyword">int</span> time, <span class="keyword">double</span> gravity)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> gravity * time;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="Static-duration-variables"><a href="#Static-duration-variables" class="headerlink" title="Static duration variables"></a>Static duration variables</h4><p>The <code>static</code> keyword is one of the most confusing keywords in the C++ language (maybe with the exception of the keyword <code>class</code>). This is because it has different meanings depending on where it is used.</p>
<p>Just like we use ‚Äúg<em>‚Äú to prefix global variables, it‚Äôs common to use ‚Äús</em>‚Äú to prefix static (static duration) variables. Note that internal linkage global variables (also declared using the static keyword) get a ‚Äúg<em>‚Äú, not a ‚Äús</em>‚Äú.</p>
<p>Static variables offer some of the benefit of global variables (they don‚Äôt get destroyed until the end of the program) while limiting their visibility to block scope. This makes them much safer for use than global variables.</p>
<h4 id="Scope-duration-and-linkage-summary"><a href="#Scope-duration-and-linkage-summary" class="headerlink" title="Scope, duration, and linkage summary"></a>Scope, duration, and linkage summary</h4><p>A variable‚Äôs duration determines when it is created and destroyed.</p>
<ul>
<li>automatic duration (stack)</li>
<li>static duration (static section)</li>
<li>dynamic duration (heap)</li>
</ul>
<p>Linkage of an identifier determines whether multiple instances of an identifier refer to the same identifier or not.</p>
<ul>
<li>no linkage (the identifier only refers to itself)</li>
<li>internal linkage (can be accessed anywhere within the file, by ‚Äústatic‚Äù)</li>
<li>external linkage (the file, or the other files via forward declaration, by ‚Äúextern‚Äù)</li>
</ul>
<p><img src="https://bloggg-1254259681.cos.na-siliconvalley.myqcloud.com/0vzwh.jpg" alt=""></p>
<h4 id="Namespaces"><a href="#Namespaces" class="headerlink" title="Namespaces"></a>Namespaces</h4><p>Problem (this is why namespaces are introduced):</p>
<p>foo.h</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">doSomething</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>goo.h</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">doSomething</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x - y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>main.cpp</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"foo.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"goo.h"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; doSomething(<span class="number">4</span>, <span class="number">3</span>) &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>What is a namespace?</strong></p>
<p>A <code>namespace</code> defines an area of code in which all identifiers are guaranteed to be unique. By default, global variables and normal functions are defined in the <code>global namespace</code>.</p>
<p>foo.h:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> Foo &#123;</span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">doSomething</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Multiple namespace blocks with the same name are allowed.</strong> It‚Äôs legal to declare namespace blocks in multiple locations (either across multiple files, or multiple places within the same file). All declarations within the namespace block are considered part of the namespace.</p>
<p>add.h:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> BasicMath &#123;</span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>subtract.h:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> BasicMath &#123;</span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">subtract</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x - y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The standard library makes extensive use of this feature, as all of the different header files included with the standard library have their functionality inside namespace <code>std</code>.</p>
<p><strong>Nested namespaces and namespace aliases:</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> Foo &#123;</span><br><span class="line">  <span class="keyword">namespace</span> Goo &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> g_x = <span class="number">5</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// main</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; Foo::Goo::g_x;</span><br></pre></td></tr></table></figure>
<p>In C++17, nested namespaces can also be declared this way:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> Foo::Goo &#123; <span class="comment">// left 2 right</span></span><br><span class="line">  <span class="keyword">const</span> <span class="keyword">int</span> g_x = <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// main</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; Foo::Goo::g_x;</span><br></pre></td></tr></table></figure>
<p>Because typing the fully qualified name of a variable or function inside a nested namespace can be painful, C++ allows you to create <code>namespace aliases</code>.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> Foo &#123;</span><br><span class="line">  <span class="keyword">namespace</span> Goo &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> g_x = <span class="number">5</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">namespace</span> Boo = Foo::Goo; <span class="comment">// Boo now refers to Foo::Goo</span></span><br><span class="line"><span class="comment">// main</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; Boo::g_x; <span class="comment">// This is really Foo::Goo::g_x</span></span><br></pre></td></tr></table></figure>
<p>It‚Äôs worth noting that namespaces in C++ <strong>were not</strong> designed as a way to implement an <code>information hierarchy</code> ‚Äî they were designed primarily as a <strong>mechanism for preventing naming collisions</strong>.</p>
<p>In general, you <strong>should avoid nesting namespaces</strong> if possible, and there are few good reasons to nest them more than 2 levels deep. However, in later lessons, we will see other related cases where the scope resolution operator needs to be used more than once.</p>
<h4 id="Using-statements"><a href="#Using-statements" class="headerlink" title="Using statements"></a>Using statements</h4><p>If you‚Äôre using the standard library a lot, typing ‚Äústd::‚Äù before everything you use from the standard library can become repetitive. C++ provides some alternatives to simplify things, called using statements.</p>
<p><strong>The using declaration:</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>; <span class="comment">// this using declaration tells the compiler that cout should resolve to std::cout</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!"</span>; <span class="comment">// so no std:: prefix is needed here!</span></span><br></pre></td></tr></table></figure>
<p>This doesn‚Äôt save much effort in this trivial example, but if you are using cout a lot inside of a function, a using declaration can make your code more readable. Note that you will need a separate using declaration <strong>for each name you use</strong> (e.g. one for std::cout, one for std::cin, and one for std::endl).</p>
<p><strong>The using directive:</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; <span class="comment">// this using directive tells the compiler that we're using everything in the std namespace!</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello world!"</span>; <span class="comment">// so no std:: prefix is needed here!</span></span><br></pre></td></tr></table></figure>
<p>For illustrative purposes, let‚Äôs take a look at an example where a using directive causes ambiguity:</p>
<p>Example 1:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> a &#123;</span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">x</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> b &#123;</span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">x</span><span class="params">(<span class="number">20</span>)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">using</span> <span class="keyword">namespace</span> a;</span><br><span class="line">  <span class="keyword">using</span> <span class="keyword">namespace</span> b;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; x &lt;&lt; <span class="string">'\n'</span>; <span class="comment">// error</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Example 2:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cout</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">5</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; <span class="comment">// makes std::cout accessible as "cout"</span></span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello, world!"</span>; <span class="comment">// uh oh!  Which cout do we want here?  The one in the std namespace or the one we defined above?</span></span><br><span class="line">  <span class="comment">// error</span></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// but we can use:</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 1</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello, world!"</span>;</span><br><span class="line">  <span class="comment">// 2</span></span><br><span class="line">  <span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello, world!"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Many new programmers put <code>using</code> directives into the global scope. This pulls all of the names from the namespace directly into the global scope, greatly increasing the chance for naming collisions to occur. This is considered bad practice.</p>
<p><strong>Rule:</strong> Avoid <code>using</code> statements outside of a function (in the global scope).</p>
<p><strong>Suggestion:</strong> We recommend you avoid <code>using</code> directives entirely.</p>
<p>It‚Äôs because there‚Äôs no way to cancel the ‚Äúusing namespace XXX‚Äù.</p>
<p>The best you can do is <strong>intentionally limit the scope</strong> of the using statement from the outset using the block scoping rules.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> Foo;</span><br><span class="line">    <span class="comment">// calls to Foo:: stuff here</span></span><br><span class="line">  &#125; <span class="comment">// using namespace Foo expires</span></span><br><span class="line"> </span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> Goo;</span><br><span class="line">    <span class="comment">// calls to Goo:: stuff here</span></span><br><span class="line">  &#125; <span class="comment">// using namespace Goo expires</span></span><br><span class="line"> </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Of course, all of this headache can be avoided by explicitly using the scope resolution operator <code>::</code> in the first place.</p>
<h3 id="Random-number-generation"><a href="#Random-number-generation" class="headerlink" title="Random number generation"></a>Random number generation</h3><p>Computers are generally incapable of generating random numbers. Instead, they must simulate randomness, which is most often done using pseudo-random number generators.</p>
<p>A <code>pseudo-random number generator</code> (PRNG) is a program that takes a starting number (called a seed), and performs mathematical operations on it to transform it into some other number that appears to be unrelated to the seed. It then takes that generated number and performs the same mathematical operation on it to transform it into a new number that appears unrelated to the number it was generated from. By continually applying the algorithm to the last generated number, it can generate a series of new numbers that will appear to be random if the algorithm is complex enough.</p>
<p>A short program that generates 100 pseudo-random numbers:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">PRGN</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> seed = <span class="number">5323</span>;</span><br><span class="line">  <span class="comment">// Take the current seed and generate a new value from it</span></span><br><span class="line">  <span class="comment">// Due to our use of large constants and overflow, it would be</span></span><br><span class="line">  <span class="comment">// hard for someone to casually predict what the next number is</span></span><br><span class="line">  <span class="comment">// going to be from the previous one.</span></span><br><span class="line">  seed = <span class="number">8253729</span> * seed + <span class="number">2396403</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Take the seed and return a value between 0 and 32767</span></span><br><span class="line">  <span class="keyword">return</span> seed % <span class="number">32768</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// Print 100 random numbers</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> count = <span class="number">1</span>; count &lt;= <span class="number">100</span>; ++count) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; PRNG() &lt;&lt; <span class="string">"\t"</span>;</span><br><span class="line">    <span class="keyword">if</span> (count % <span class="number">5</span> == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>What is a good PRNG?</strong></p>
<ul>
<li>The PRNG should generate each number with approximately the same probability.</li>
<li>The method by which the next number in the sequence is generated shouldn‚Äôt be obvious or predictable.</li>
<li>The PRNG should have a good dimensional distribution of numbers.</li>
<li>All PRNGs are periodic, which means that at some point the sequence of numbers generated will eventually begin to repeat itself.</li>
</ul>
<p><strong>std::rand() is a mediocre PRNG</strong></p>
<p>The algorithm used to implement std::rand() can vary from compiler to compiler, leading to results that may not be consistent across compilers. Most implementations of rand() use a method called a <code>Linear Congruential Generator (LCG)</code>. If you have a look at the first example in this lesson, you‚Äôll note that it‚Äôs actually a LCG, though one with intentionally picked poor constants. LCGs tend to have shortcomings that make them not good choices for most kinds of problems.</p>
<p>For applications where a high-quality PRNG is useful, I would recommend <code>Mersenne Twister</code> (or one of its variants), which produces great results and is relatively easy to use. Mersenne Twister was adopted into C++11, and we‚Äôll show how to use it later in this lesson.</p>
<p>Although you can create a <code>static</code> local std::mt19937 variable in each function that needs it (static so that it only gets seeded once), it‚Äôs <strong>a little overkill</strong> to have every function that need a random number generator seed and maintain its own local generator. A better option in most cases is to create a <code>global random number generator</code> (inside a <code>namespace</code>!). Remember how we told you to avoid non-const global variables? This is an exception (also note: std::rand() and std::srand() access a global object, so there‚Äôs precedent for this).</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;random&gt; // for std::mt19937</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctime&gt;  // for std::time</span></span></span><br><span class="line"><span class="keyword">namespace</span> MyRandom &#123;</span><br><span class="line">	<span class="comment">// Initialize our mersenne twister with a random seed based on the clock (once at system startup)</span></span><br><span class="line">	<span class="built_in">std</span>::<span class="function">mt19937 <span class="title">mersenne</span><span class="params">(<span class="keyword">static_cast</span>&lt;<span class="keyword">unsigned</span> <span class="keyword">int</span>&gt;(<span class="built_in">std</span>::time(<span class="literal">nullptr</span>)))</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getRandomNumber</span><span class="params">(<span class="keyword">int</span> min, <span class="keyword">int</span> max)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">std</span>::uniform_int_distribution&lt;&gt; die(min, max); <span class="comment">// we can create a distribution in any function that needs it</span></span><br><span class="line">  <span class="keyword">return</span> die(MyRandom::mersenne); <span class="comment">// and then generate a random number from our global generator</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>A perhaps better solution is to use a 3rd party library that handles all of this stuff for you, such as the header-only <code>Effolkronium&#39;s random library</code>. You simply add the header to your project, #include it, and then you can start generating random numbers via Random::get(min, max).</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"random.hpp"</span></span></span><br><span class="line"><span class="keyword">using</span> Random = effolkronium::random_static;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; Random::get(<span class="number">1</span>, <span class="number">6</span>) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; Random::get(<span class="number">1</span>, <span class="number">10</span>) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">	<span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; Random::get(<span class="number">1</span>, <span class="number">20</span>) &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Input-Extraction-and-dealing-with-invalid-text-input"><a href="#Input-Extraction-and-dealing-with-invalid-text-input" class="headerlink" title="Input Extraction, and dealing with invalid text input"></a>Input Extraction, and dealing with invalid text input</h3><p>When the user enters input in response to an extraction operation, that data is placed in a <code>buffer</code> inside of std::cin. A buffer (also called a <code>data buffer</code>) is simply a piece of memory set aside for <strong>storing data temporarily</strong> while it‚Äôs moved from one place to another. In this case, the buffer is used to hold user input while it‚Äôs waiting to be extracted to variables.</p>
<p>When the extraction operator <code>&gt;&gt;</code> is used, the following procedure happens:</p>
<ul>
<li>If there is data already in the input buffer, that data is used for extraction.</li>
<li>If the input buffer contains no data, the user is asked to input data for extraction (<strong>this is the case most of the time</strong>). When the user hits enter, <strong>a ‚Äò\n‚Äô character will be placed in the input buffer</strong>.</li>
<li>operator <code>&gt;&gt;</code> extracts as much data from the input buffer as it can into the variable (<strong>ignoring any leading whitespace characters</strong>, such as spaces, tabs, or ‚Äò\n‚Äô).</li>
<li>Any data that cannot be extracted is left in the input buffer for the next extraction.</li>
</ul>
<p>Extraction succeeds if at least one character is extracted from the input buffer. Any unextracted input is left in the input buffer for future extractions. For example:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x;</span><br></pre></td></tr></table></figure>
<p>If the user enters ‚Äú5a‚Äù, 5 will be extracted, converted to an integer, and assigned to variable x. ‚Äúa\n‚Äù will be left in the input stream for the next extraction. <strong>Extraction fails if the input data does not match the type of the variable being extracted to</strong>. For example:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// current buffer: "a\n"</span></span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x;</span><br></pre></td></tr></table></figure>
<p><strong>There are three basic ways to do input validation:</strong></p>
<ul>
<li>Inline (as the uesr types)<ul>
<li>Prevent the user from typing invalid input the first place.</li>
<li>Unfortunately, <code>std::cin</code> does not support this style of validation.</li>
</ul>
</li>
<li>Post-entry (after the user types)<ul>
<li>Let the user enter whatever they want into a string, then validate whether the string is correct, and if so, convert the string to the final variable format.</li>
<li>Let the user enter whatever they want, let <code>std::cin</code> and operator <code>&gt;&gt;</code> try to extract it, and handle the error cases.</li>
</ul>
</li>
</ul>
<p><strong>Types of invalid text input:</strong></p>
<ul>
<li><p><strong>Error A</strong>: Input extraction succeeds but the input is meaningless to the program (e.g. entering <code>k</code> as your mathematical operator).</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// For A</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> <span class="title">getOperator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Enter:"</span> &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">    <span class="keyword">char</span> op;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; op;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (op == <span class="string">'+'</span> || op == <span class="string">'-'</span> || op == <span class="string">'*'</span> || op == <span class="string">'/'</span>)</span><br><span class="line">      <span class="keyword">return</span> op;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Oops! Try again!"</span> &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Error B</strong>: Input extraction succeeds but the user enters additional input (e.g. entering <code>*q hello</code> as your mathematical operator).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Enter a double value: 5*7</span><br></pre></td></tr></table></figure>
<p>Then,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Enter one of the following: +, -, *, or /: Enter a double value: 5 * 7 is 35</span><br></pre></td></tr></table></figure>
<p>In this case above, we cannot continue entering text since there is data in the buffer.</p>
<p>Since the last character the user entered must be a ‚Äò\n‚Äô, we can tell std::cin to ignore buffered characters <code>until it finds</code> a newline character (which is removed as well).</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">cin</span>.ignore(<span class="number">32767</span>, <span class="string">'\n'</span>);  <span class="comment">// clear (up to 32767) characters out of the buffer until a '\n' character is removed</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Error C</strong>: Input extraction fails (e.g. trying to enter <code>q</code> into a numeric input).</p>
<p>Now consider the following execution of the calculator program:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Enter a double value: a</span><br></pre></td></tr></table></figure>
<p>You shouldn‚Äôt be surprised that the program doesn‚Äôt perform as expected, but how it fails is interesting:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter a double value: a</span><br><span class="line">Enter one of the following: +, -, *, or /: Enter a double value:</span><br></pre></td></tr></table></figure>
<p>and the problem suddenly ends. This looks pretty similar to the extraneous input case, but it‚Äôs a little different. Let‚Äôs take a closer look.</p>
<p>When the user enters ‚Äòa‚Äô, that character is placed in the buffer. Then operator <code>&gt;&gt;</code> tries to extract ‚Äòa‚Äô to variable x, which is of type double. Since ‚Äòa‚Äô can‚Äôt be converted to a double, operator <code>&gt;&gt;</code> can‚Äôt do the extraction. </p>
<p><strong>Two things happen at this point</strong>: ‚Äòa‚Äô is left in the buffer, and std::cin goes into <code>failure mode</code>.</p>
<p><strong>Once in failure mode, future requests for input extraction will silently fail.</strong> Thus in our calculator program, the output prompts still print, but <strong>any requests for further extraction are ignored</strong>. The program simply runs to the end and then terminates (without printing a result, because we never read in a valid mathematical operation).</p>
<p>Fortunately, we can detect whether an extraction has failed and fix it:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">std</span>::<span class="built_in">cin</span>.fail()) &#123;</span><br><span class="line">  <span class="comment">// yep, so let's handle the failure</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span>.clear();  <span class="comment">// put us back in 'normal' operation mode</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span>.ignore(<span class="number">32767</span>, <span class="string">'\n'</span>); <span class="comment">// and remove the bad input since previous is still in the buffer</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Combine A, B, and C:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">getDouble</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Enter a double value: "</span>;</span><br><span class="line">    <span class="keyword">double</span> x;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">std</span>::<span class="built_in">cin</span>.fail()) &#123;</span><br><span class="line">      <span class="built_in">std</span>::<span class="built_in">cin</span>.clear();</span><br><span class="line">      <span class="built_in">std</span>::<span class="built_in">cin</span>.ignore(<span class="number">32767</span>, <span class="string">'\n'</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">std</span>::<span class="built_in">cin</span>.ignore(<span class="number">32767</span>, <span class="string">'\n'</span>);</span><br><span class="line">      <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Note: Prior to C++11, a failed extraction would not modify the variable being extracted to. This means that if a variable was uninitialized, it would stay uninitialized in the failed extraction case. However, <strong>as of C++11, a failed extraction due to invalid input will cause the variable to be zero-initialized.</strong> Zero initialization means the variable is set to 0, 0.0, ‚Äú‚Äù, or whatever value 0 converts to for that type.</p>
</li>
<li><p><strong>Error D</strong>: Input extraction succeeds but the user overflows a numeric value.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">std</span>::<span class="keyword">int16_t</span> x &#123; <span class="number">0</span> &#125;; <span class="comment">// x is 16 bits, holds from -32768 to 32767</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Enter a number between -32768 and 32767: "</span>;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; x;</span><br><span class="line"> </span><br><span class="line">  <span class="built_in">std</span>::<span class="keyword">int16_t</span> y &#123; <span class="number">0</span> &#125;; <span class="comment">// y is 16 bits, holds from -32768 to 32767</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Enter another number between -32768 and 32767: "</span>;</span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; y;</span><br><span class="line"> </span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"The sum is: "</span> &lt;&lt; x + y &lt;&lt; <span class="string">'\n'</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter a number between -32768 and 32767: 40000</span><br><span class="line">Enter another number between -32768 and 32767: The sum is: 32767</span><br></pre></td></tr></table></figure>
<p>In the above case, std::cin goes immediately into ‚Äúfailure mode‚Äù, but also assigns the closest in-range value (&gt;= C++11) to the variable. <strong>Consequently, x is left with the assigned value of 32767. Additional inputs are skipped, leaving y with the initialized value of 0.</strong> We can handle this kind of error in the same way as a failed extraction.</p>
</li>
</ul>
<p><strong>Conclusion</strong></p>
<p>For each point of text input, consider:</p>
<ul>
<li>Could extraction fail?</li>
<li>Could the user enter more input than expected?</li>
<li>Could the user enter meaningless input?</li>
<li>Could the user overflow an input?</li>
</ul>
<p>Remember that the following code will test for and fix failed extractions or overflow:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">std</span>::<span class="built_in">cin</span>.fail()) &#123; <span class="comment">// has a previous extraction failed or overflowed?</span></span><br><span class="line">    <span class="comment">// yep, so let's handle the failure</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span>.clear(); <span class="comment">// put us back in 'normal' operation mode</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cin</span>.ignore(<span class="number">32767</span>,<span class="string">'\n'</span>); <span class="comment">// and remove the bad input</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The following statement will also clear any extraneous input:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">cin</span>.ignore(<span class="number">32767</span>,<span class="string">'\n'</span>); <span class="comment">// and remove the bad input</span></span><br></pre></td></tr></table></figure>
<p>Finally, use loops to ask the user to re-enter input if the original input was invalid (meaningless).</p>

        
      </div>
      
      
      
    </div>
    
    
    
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/handsomecat.jpg" alt="Junhao Wang">
            
              <p class="site-author-name" itemprop="name">Junhao Wang</p>
              <p class="site-description motion-element" itemprop="description">Debug the old world, bug the new world!</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">50</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">114</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://www.facebook.com/chuckwangg" target="_blank" title="Facebook">
                      
                        <i class="fa fa-fw fa-facebook"></i>Facebook</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/junhaowww" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.linkedin.com/in/junhaowww/" target="_blank" title="LinkedIn">
                      
                        <i class="fa fa-fw fa-linkedin"></i>LinkedIn</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.douban.com/people/maodai/" target="_blank" title="Ë±ÜÁì£ (Book)">
                      
                        <i class="fa fa-fw fa-book"></i>Ë±ÜÁì£ (Book)</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.jianshu.com/u/41865efdad5d/" title="Xiaofud" target="_blank">Xiaofud</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.davex.pw/" title="DaveX" target="_blank">DaveX</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://alexfan.xyz/" title="alexfan.xyz" target="_blank">alexfan.xyz</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction-to-programming-languages"><span class="nav-number">1.</span> <span class="nav-text">Introduction to programming languages</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction-to-C"><span class="nav-number">2.</span> <span class="nav-text">Introduction to C++</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#History-of-C"><span class="nav-number">2.1.</span> <span class="nav-text">History of C++</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-and-C-‚Äôs-philosophy"><span class="nav-number">2.2.</span> <span class="nav-text">C and C++‚Äôs philosophy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#History-of-‚Äúbug‚Äù"><span class="nav-number">2.3.</span> <span class="nav-text">History of ‚Äúbug‚Äù</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Compilers-linkers-and-the-libraries"><span class="nav-number">2.4.</span> <span class="nav-text">Compilers, linkers, and the libraries</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#C-Basics"><span class="nav-number">3.</span> <span class="nav-text">C++ Basics</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#std-endl-vs-‚Äò-n‚Äô"><span class="nav-number">3.1.</span> <span class="nav-text">std::endl vs ‚Äò\n‚Äô</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Expressions"><span class="nav-number">3.2.</span> <span class="nav-text">Expressions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Functions-and-Files"><span class="nav-number">3.3.</span> <span class="nav-text">Functions and Files</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Namespace"><span class="nav-number">3.4.</span> <span class="nav-text">Namespace</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bool-amp-Literals"><span class="nav-number">3.5.</span> <span class="nav-text">bool &amp; Literals</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#const"><span class="nav-number">3.6.</span> <span class="nav-text">const</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Side-effects-in-inc-dec"><span class="nav-number">3.7.</span> <span class="nav-text">Side effects in inc / dec</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Bit-flags-amp-Bit-masks-optional"><span class="nav-number">3.8.</span> <span class="nav-text">Bit flags &amp; Bit masks (optional)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Defining-bit-flags-in-C-14"><span class="nav-number">3.8.1.</span> <span class="nav-text">Defining bit flags in C++14</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Defining-bit-flags-in-C-11-or-earlier"><span class="nav-number">3.8.2.</span> <span class="nav-text">Defining bit flags in C++11 or earlier</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Using-bit-flags-to-manipulate-bits"><span class="nav-number">3.8.3.</span> <span class="nav-text">Using bit flags to manipulate bits</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#To-set-a-bit-turn-on"><span class="nav-number">3.8.4.</span> <span class="nav-text">To set a bit (turn on)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Turn-bits-off"><span class="nav-number">3.8.5.</span> <span class="nav-text">Turn bits off</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Toggle-a-bit-state"><span class="nav-number">3.8.6.</span> <span class="nav-text">Toggle a bit state</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Determining-if-a-bit-is-on-or-off"><span class="nav-number">3.8.7.</span> <span class="nav-text">Determining if a bit is on or off</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Why-are-bit-flags-useful"><span class="nav-number">3.8.8.</span> <span class="nav-text">Why are bit flags useful?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#An-introduction-to-std-bitset"><span class="nav-number">3.8.9.</span> <span class="nav-text">An introduction to std::bitset</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bit-masks"><span class="nav-number">3.8.10.</span> <span class="nav-text">Bit masks</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Variable-Scope-and-More-Types"><span class="nav-number">3.9.</span> <span class="nav-text">Variable Scope and More Types</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Local-variables-scope-and-duration"><span class="nav-number">3.9.1.</span> <span class="nav-text">Local variables, scope, and duration</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Global-variables-and-linkage"><span class="nav-number">3.9.2.</span> <span class="nav-text">Global variables and linkage</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Why-non-const-global-variables-are-evil"><span class="nav-number">3.9.3.</span> <span class="nav-text">Why (non-const) global variables are evil?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Static-duration-variables"><span class="nav-number">3.9.4.</span> <span class="nav-text">Static duration variables</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Scope-duration-and-linkage-summary"><span class="nav-number">3.9.5.</span> <span class="nav-text">Scope, duration, and linkage summary</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Namespaces"><span class="nav-number">3.9.6.</span> <span class="nav-text">Namespaces</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Using-statements"><span class="nav-number">3.9.7.</span> <span class="nav-text">Using statements</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Random-number-generation"><span class="nav-number">3.10.</span> <span class="nav-text">Random number generation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Input-Extraction-and-dealing-with-invalid-text-input"><span class="nav-number">3.11.</span> <span class="nav-text">Input Extraction, and dealing with invalid text input</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Junhao Wang</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>








        
<div class="busuanzi-count">
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    
      <div id="needsharebutton-float">
        <span class="btn">
          <i class="fa fa-share-alt" aria-hidden="true"></i>
        </span>
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://junhaow.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'http://www.junhaow.com/studynotes/cpp/learncpp/Study Notes on LearnCpp Part 1.html';
          this.page.identifier = 'studynotes/cpp/learncpp/Study Notes on LearnCpp Part 1.html';
          this.page.title = 'Study Notes on LearnCpp (Part 1 - Basic)';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://junhaow.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  














  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">

  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>

  <script>
    
    
      flOptions = {};
      
          flOptions.iconStyle = "box";
      
          flOptions.boxForm = "horizontal";
      
          flOptions.position = "middleRight";
      
          flOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-float', flOptions);
    
  </script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

  

  
  


  

  


</body>
</html>
